{"version":3,"file":"shared.js","sourceRoot":"","sources":["../../../../../packages/forms/src/directives/shared.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {isDevMode, ÉµlooseIdentical as looseIdentical} from '@angular/core';\n\nimport {FormArray, FormControl, FormGroup} from '../model';\nimport {Validators} from '../validators';\nimport {AbstractControlDirective} from './abstract_control_directive';\nimport {AbstractFormGroupDirective} from './abstract_form_group_directive';\nimport {CheckboxControlValueAccessor} from './checkbox_value_accessor';\nimport {ControlContainer} from './control_container';\nimport {ControlValueAccessor} from './control_value_accessor';\nimport {DefaultValueAccessor} from './default_value_accessor';\nimport {NgControl} from './ng_control';\nimport {normalizeAsyncValidator, normalizeValidator} from './normalize_validator';\nimport {NumberValueAccessor} from './number_value_accessor';\nimport {RadioControlValueAccessor} from './radio_control_value_accessor';\nimport {RangeValueAccessor} from './range_value_accessor';\nimport {FormArrayName} from './reactive_directives/form_group_name';\nimport {ReactiveErrors} from './reactive_errors';\nimport {SelectControlValueAccessor} from './select_control_value_accessor';\nimport {SelectMultipleControlValueAccessor} from './select_multiple_control_value_accessor';\nimport {AsyncValidator, AsyncValidatorFn, Validator, ValidatorFn} from './validators';\n\n\nexport function controlPath(name: string, parent: ControlContainer): string[] {\n  return [...parent.path !, name];\n}\n\nexport function setUpControl(control: FormControl, dir: NgControl): void {\n  if (!control) _throwError(dir, 'Cannot find control with');\n  if (!dir.valueAccessor) _throwError(dir, 'No value accessor for form control with');\n\n  control.validator = Validators.compose([control.validator !, dir.validator]);\n  control.asyncValidator = Validators.composeAsync([control.asyncValidator !, dir.asyncValidator]);\n  dir.valueAccessor !.writeValue(control.value);\n\n  setUpViewChangePipeline(control, dir);\n  setUpModelChangePipeline(control, dir);\n\n  setUpBlurPipeline(control, dir);\n\n  if (dir.valueAccessor !.setDisabledState) {\n    control.registerOnDisabledChange(\n        (isDisabled: boolean) => { dir.valueAccessor !.setDisabledState !(isDisabled); });\n  }\n\n  // re-run validation when validator binding changes, e.g. minlength=3 -> minlength=4\n  dir._rawValidators.forEach((validator: Validator | ValidatorFn) => {\n    if ((<Validator>validator).registerOnValidatorChange)\n      (<Validator>validator).registerOnValidatorChange !(() => control.updateValueAndValidity());\n  });\n\n  dir._rawAsyncValidators.forEach((validator: AsyncValidator | AsyncValidatorFn) => {\n    if ((<Validator>validator).registerOnValidatorChange)\n      (<Validator>validator).registerOnValidatorChange !(() => control.updateValueAndValidity());\n  });\n}\n\nexport function cleanUpControl(control: FormControl, dir: NgControl) {\n  dir.valueAccessor !.registerOnChange(() => _noControlError(dir));\n  dir.valueAccessor !.registerOnTouched(() => _noControlError(dir));\n\n  dir._rawValidators.forEach((validator: any) => {\n    if (validator.registerOnValidatorChange) {\n      validator.registerOnValidatorChange(null);\n    }\n  });\n\n  dir._rawAsyncValidators.forEach((validator: any) => {\n    if (validator.registerOnValidatorChange) {\n      validator.registerOnValidatorChange(null);\n    }\n  });\n\n  if (control) control._clearChangeFns();\n}\n\nfunction setUpViewChangePipeline(control: FormControl, dir: NgControl): void {\n  dir.valueAccessor !.registerOnChange((newValue: any) => {\n    control._pendingValue = newValue;\n    control._pendingChange = true;\n    control._pendingDirty = true;\n\n    if (control.updateOn === 'change') updateControl(control, dir);\n  });\n}\n\nfunction setUpBlurPipeline(control: FormControl, dir: NgControl): void {\n  dir.valueAccessor !.registerOnTouched(() => {\n    control._pendingTouched = true;\n\n    if (control.updateOn === 'blur' && control._pendingChange) updateControl(control, dir);\n    if (control.updateOn !== 'submit') control.markAsTouched();\n  });\n}\n\nfunction updateControl(control: FormControl, dir: NgControl): void {\n  if (control._pendingDirty) control.markAsDirty();\n  control.setValue(control._pendingValue, {emitModelToViewChange: false});\n  dir.viewToModelUpdate(control._pendingValue);\n  control._pendingChange = false;\n}\n\nfunction setUpModelChangePipeline(control: FormControl, dir: NgControl): void {\n  control.registerOnChange((newValue: any, emitModelEvent: boolean) => {\n    // control -> view\n    dir.valueAccessor !.writeValue(newValue);\n\n    // control -> ngModel\n    if (emitModelEvent) dir.viewToModelUpdate(newValue);\n  });\n}\n\nexport function setUpFormContainer(\n    control: FormGroup | FormArray, dir: AbstractFormGroupDirective | FormArrayName) {\n  if (control == null) _throwError(dir, 'Cannot find control with');\n  control.validator = Validators.compose([control.validator, dir.validator]);\n  control.asyncValidator = Validators.composeAsync([control.asyncValidator, dir.asyncValidator]);\n}\n\nfunction _noControlError(dir: NgControl) {\n  return _throwError(dir, 'There is no FormControl instance attached to form control element with');\n}\n\nfunction _throwError(dir: AbstractControlDirective, message: string): void {\n  let messageEnd: string;\n  if (dir.path !.length > 1) {\n    messageEnd = `path: '${dir.path!.join(' -> ')}'`;\n  } else if (dir.path ![0]) {\n    messageEnd = `name: '${dir.path}'`;\n  } else {\n    messageEnd = 'unspecified name attribute';\n  }\n  throw new Error(`${message} ${messageEnd}`);\n}\n\nexport function composeValidators(validators: Array<Validator|Function>): ValidatorFn|null {\n  return validators != null ? Validators.compose(validators.map(normalizeValidator)) : null;\n}\n\nexport function composeAsyncValidators(validators: Array<Validator|Function>): AsyncValidatorFn|\n    null {\n  return validators != null ? Validators.composeAsync(validators.map(normalizeAsyncValidator)) :\n                              null;\n}\n\nexport function isPropertyUpdated(changes: {[key: string]: any}, viewModel: any): boolean {\n  if (!changes.hasOwnProperty('model')) return false;\n  const change = changes['model'];\n\n  if (change.isFirstChange()) return true;\n  return !looseIdentical(viewModel, change.currentValue);\n}\n\nconst BUILTIN_ACCESSORS = [\n  CheckboxControlValueAccessor,\n  RangeValueAccessor,\n  NumberValueAccessor,\n  SelectControlValueAccessor,\n  SelectMultipleControlValueAccessor,\n  RadioControlValueAccessor,\n];\n\nexport function isBuiltInAccessor(valueAccessor: ControlValueAccessor): boolean {\n  return BUILTIN_ACCESSORS.some(a => valueAccessor.constructor === a);\n}\n\nexport function syncPendingControls(form: FormGroup, directives: NgControl[]): void {\n  form._syncPendingControls();\n  directives.forEach(dir => {\n    const control = dir.control as FormControl;\n    if (control.updateOn === 'submit' && control._pendingChange) {\n      dir.viewToModelUpdate(control._pendingValue);\n      control._pendingChange = false;\n    }\n  });\n}\n\n// TODO: vsavkin remove it once https://github.com/angular/angular/issues/3011 is implemented\nexport function selectValueAccessor(\n    dir: NgControl, valueAccessors: ControlValueAccessor[]): ControlValueAccessor|null {\n  if (!valueAccessors) return null;\n\n  if (!Array.isArray(valueAccessors))\n    _throwError(dir, 'Value accessor was not provided as an array for form control with');\n\n  let defaultAccessor: ControlValueAccessor|undefined = undefined;\n  let builtinAccessor: ControlValueAccessor|undefined = undefined;\n  let customAccessor: ControlValueAccessor|undefined = undefined;\n\n  valueAccessors.forEach((v: ControlValueAccessor) => {\n    if (v.constructor === DefaultValueAccessor) {\n      defaultAccessor = v;\n\n    } else if (isBuiltInAccessor(v)) {\n      if (builtinAccessor)\n        _throwError(dir, 'More than one built-in value accessor matches form control with');\n      builtinAccessor = v;\n\n    } else {\n      if (customAccessor)\n        _throwError(dir, 'More than one custom value accessor matches form control with');\n      customAccessor = v;\n    }\n  });\n\n  if (customAccessor) return customAccessor;\n  if (builtinAccessor) return builtinAccessor;\n  if (defaultAccessor) return defaultAccessor;\n\n  _throwError(dir, 'No valid value accessor for form control with');\n  return null;\n}\n\nexport function removeDir<T>(list: T[], el: T): void {\n  const index = list.indexOf(el);\n  if (index > -1) list.splice(index, 1);\n}\n\n// TODO(kara): remove after deprecation period\nexport function _ngModelWarning(\n    name: string, type: {_ngModelWarningSentOnce: boolean},\n    instance: {_ngModelWarningSent: boolean}, warningConfig: string | null) {\n  if (!isDevMode() || warningConfig === 'never') return;\n\n  if (((warningConfig === null || warningConfig === 'once') && !type._ngModelWarningSentOnce) ||\n      (warningConfig === 'always' && !instance._ngModelWarningSent)) {\n    ReactiveErrors.ngModelWarning(name);\n    type._ngModelWarningSentOnce = true;\n    instance._ngModelWarningSent = true;\n  }\n}\n"]}